

import java.sql.SQLException;
import java.util.Scanner;

import org.h2.tools.Server;

public class createH2Server {
	
	private static final String args1 = "-webAllowOthers -webPort 8082 -tcpAllowOthers -tcpPort 8084 -baseDir C:\\Users\\hkim85.823WS2016-03\\Downloads -pgAllowOthers -pgPort 8086";
	private static Server server;
	public static final String SH2Port ="8084";
	
	public static void main(String[] args) throws SQLException {
		
		server = Server.createTcpServer(args1).start();
		
		System.out.println("Server Status");
		System.out.println(server.getStatus());
		
		while (true){
			Scanner keyboard = new Scanner(System.in);  // Reading from System.in
			System.out.println("Already closed " + SH2Port + " (y:1/n:2)?: ");
			//String s = keyboard.next();
			int n = keyboard.nextInt();
			if (n == 1) {
				break;
			}
			if (n == 2) {
				server.stop();
				break;
			}
			keyboard.close();
		}
		server.stop();
	}

}
